## Функциональные требования
- публикация постов с фотографиями, с опциональным описанием и геолокацией(СНГ).
- фото не больше 10 на пост
- к постам можно ставить реакции(лайк/дизлайк)
- к постам можно ставить комментарии
- на пользователя можно подписаться
- формирование ленты в обратном хронологическом порядке в зависимости от подписок пользователя.
- лента бесконечная
- поиск постов пользователей по геолокации(СНГ) в каком-то радиусе(пусть этот радиус пока будет константный)
- список постов по поиску бесконечный

## Нефункциональные требования
- DAU 10 000 000
- Страны СНГ
- Данные храним всегда
- Активность пользователей
    - пишет в среднем 0.2 поста в сутки
    - в посте в среднем 3 фото
    - пишет в среднем 3 комментария в сутки
    - пишет в среднем 2 комментария на пост
    - обновленяет ленту в среднем 4 раза в сутки
    - поиск постов по геолокации в среднем 2 раза в сутки
    - оставляет реакции на посты/комментарии в среднем 6 раз в сутки
    - в среднем подписываются на другого пользователя 0.1 раз в сутки
- Лимиты
    - не более 10 фото на пост
    - не более 30000 подписок
    - комментарии на пост не ограничены
    - реакции и комментарии на пост количеством не ограничены
    - поиск постов по геолокации только на территории СНГ
    - пользователь ограничен 200 постами в день
    - лента при первой запросе прогружает не более 20 постов с комментами(тоже не более 20), при скролинге ленты подгружаются следующие 20 постов
    - максимальный размер фото 10 мб
    - разрешенные форматы фото: PNG, JPEG(JPG), HEIF
- Сезонность: лето
- Тайминги
    - создание поста с фото не более 1 сек
    - отображение ленты не более 2 сек
    - поиск постов по геолокации не более 1 сек
- Доступность приложения 99.9 (9 часов 46 мин может быть недоступна)

## Нагрузка
  - RPS(write на создание поста) = 10 000 000 * 0.2 / 100000 = 20
  - RPS(write на написание комментария) = 10 000 000 * 3 / 100000 = 300
  - RPS(write на выставление реакции) = 10 000 000 * 6 / 100000 = 600
  - RPS(read на чтение/обновление ленты) = 10 000 000 * 4 / 100000 = 400
  - RPS(read на поиск постов по геолокации) = 10 000 000 * 2 / 100000 = 200
  - RPS(write на подписку на другого пользователя) = 10 000 000 * 0.1 / 100000 = 10
  
  ### Пост(Post на запись) (8 + 100 + 8 + 100 + 100 + 16 = 332 байт)
   - id (8 байт)
   - title (100 байт)
   - created_at (8 байт)
   - text (100 байт)
   - user_gid (100 байт)
   - location(8 байт + 8 байт = 16 байт)

  ### Пост(Post на чтение) 1 Кбайт
   - id (8 байт)
   - title (100 байт)
   - created_at (8 байт)
   - text (100 байт)
   - user_gid (100 байт)
   - location(8 + 8 байт = 16 байт)
   - comments( 2(среднее количество комментов на пост) * 332 байт)
   - likes (8 байт)
   - dislikes (8 байт)

  ### Коммент(Comment) 332(8 + 100 + 100 + 8 + 8 + 8) байт
   - id (8 байт)
   - text (100 байт)
   - user_gid (100 байт)
   - post_gid (100 байт)
   - created_at (8 байт)
   - likes (8 байт)
   - dislikes (8 байт)

  ### Фото(Photo)
   - photo(jpg) (5 мб)

  ### Локация(location)
   - latitude (8 байт)
   - longitude (8 байт)

   ### Реакции(like/dislike)
   - user_gid (100 байт)
   - post_gid/comment_gid (100 байт)
   - is_like( 1 байт)

  ### Подписка(Subscription)
   - publisher_gid (100 байт)
   - subscriber_gid (100 байт)
         
## Трафик
  - Trafic (write на создание поста без фото) = 20rps * 332 байт = 6640 байт/с = 7 кб/с
  - Trafic (write на создание поста только фото) = 400rps * 5мб * 3(среднее кол-во фото на пост) = 300 мб/с
  - Trafic (read на чтение ленты без фото) = 400rps * 1 кбайт * 20(кол-во постов) = 8 мб/с
  - Trafic (read на чтение ленты только фото) = 400rps * 5мб * 3(среднее кол-во фото на пост) * 20(кол-во постов) = 120000 мб/с = 120 гб/с
  - Trafic (write на создание комментария) = 300rps * 232 байт  = 70 кб/с
  - Trafic (write на выставление реакции) = 600rps * 200 байт  = 1.2 кб/с
  - Trafic (read на поиск постов по геолокации без фото) = 4мб/с
  - Trafic (read на поиск постов по геолокации только фото) = 60гб/с
  - Trafic (write на подписку) = 20rpc * 200 байт = 4 кб/с